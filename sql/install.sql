-- Install script for Loyalty Program - Gmax
CREATE DATABASE IF NOT EXISTS loyalty_gmax;
USE loyalty_gmax;

CREATE TABLE IF NOT EXISTS customers (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  address TEXT,
  phone VARCHAR(50) NOT NULL UNIQUE,
  email VARCHAR(255),
  birthday DATE,
  age INT,
  gender VARCHAR(20),
  marital_status VARCHAR(20)
);

CREATE TABLE IF NOT EXISTS items (
  id INT AUTO_INCREMENT PRIMARY KEY,
  model VARCHAR(255) NOT NULL,
  status TINYINT(1) DEFAULT 1
);

CREATE TABLE IF NOT EXISTS transactions (
  id INT AUTO_INCREMENT PRIMARY KEY,
  customer_id INT NOT NULL,
  date DATE NOT NULL,
  invoice VARCHAR(255) NOT NULL,
  answered_by VARCHAR(255),
  items JSON,
  FOREIGN KEY (customer_id) REFERENCES customers(id) ON DELETE CASCADE
);

-- Insert item models
INSERT INTO items (model) VALUES
('ARROW'),
('GRC2227'),
('SM100'),
('BLUEICE'),
('BLUETREKPA0899L'),
('FLASH'),
('GRC1827'),
('SM400'),
('NEORADIO'),
('BLUETREKPA0898L'),
('XFAN'),
('GRC1828'),
('ULTRA'),
('BLUETREKPA1286'),
('TURBOMAX'),
('PRC1318'),
('ACM601'),
('BLUETREKPA1289'),
('PUMA'),
('URC180'),
('ACM602'),
('COSMIC'),
('BLUETREKPA15'),
('ASTTIGER'),
('URC189'),
('ASTRA'),
('BLUETREKPA1587S'),
('BEETLE'),
('JRC102'),
('(AST)TCLRE60'),
('BLUETREKPA1589'),
('SPEEDY'),
('JRC182'),
('(AST)TCLRE150'),
('LIFEBOX'),
('BLUETREKPA18'),
('DUPLEX'),
('JRC181'),
('(AST)TCLRE100'),
('SUNBRIGHT'),
('SKYWALKER12MCX2'),
('FALCON'),
('JRC183'),
('(AST)TCLMA150'),
('SUNPLAY'),
('SKYWALKER15MCX2'),
('JUMBO'),
('SRC1018'),
('(AST)TCLMA100'),
('SUNBEATS'),
('AEROTECH16'),
('SRC1805'),
('(AST)TCLMA60'),
('GALAXY'),
('BLUETREKPA08'),
('SRC1898'),
('(AST)TCLINVW100'),
('SUNMAX'),
('BLUETREKPA0885'),
('OLYMPUS'),
('GRC1227'),
('(AST)TCLINVW150'),
('DAZZLE'),
('BLUETREKPA1244H'),
('OPTIMA'),
('URC120'),
('TCL075INV'),
('SPARKLE'),
('JAGUAR'),
('JRC101'),
('TCL105INV'),
('RETROPLAY'),
('AURABEATS45'),
('LION'),
('GRC1027'),
('TCL155INV'),
('AURABEATS106'),
('CONDOR'),
('MRC0605'),
('AURABEATS85'),
('BLAZER'),
('MRC0627'),
('TCLSPV100'),
('MAX52'),
('AURABEATS80'),
('SPRINT'),
('MRC1005'),
('TCLSPV150'),
('MAX62'),
('PORTABUDDY'),
('RUSH'),
('RC1310'),
('TCLSPV200'),
('MAX82'),
('REMOTECSF16'),
('URC60'),
('TCLSPV250'),
('MAX83'),
('VERSAPRO08'),
('WINDMAX'),
('JRC061'),
('VERSAPRO10'),
('BRONCO'),
('DRC1508'),
('MW2022'),
('SBW600'),
('VERSABOX06'),
('SF GIGAMAX'),
('DRC1808'),
('SBW550'),
('VERSABOX08'),
('REMOTECSF18'),
('JRC221'),
('EO12'),
('SB350MC'),
('VERSABOX10'),
('BREEZYSF16'),
('URC360'),
('EO28'),
('AURABAR'),
('VERSABOX12'),
('URC560'),
('EO45'),
('AIRBLADE16'),
('URC800'),
('EO65'),
('VERSABEATS04'),
('AIRBLADE18'),
('EO-09L'),
('BLUEEDGE1233'),
('VERSABEATS210'),
('AIRBLADE20'),
('EPC6000'),
('BLUEEDGE1533'),
('AURABEATS206'),
('APC22'),
('HM11'),
('SUMO12'),
('VERSABEATS208'),
('MERCURY'),
('APC26'),
('HM22B'),
('SUMO15'),
('VERSAPLAY08'),
('VENUS'),
('CS6588AL'),
('BEATSPRO80'),
('SATURN'),
('FS48'),
('TBX120'),
('CS8088AL'),
('BEATSPRO100'),
('JUPITER'),
('FS85'),
('CS1088AL'),
('SONICPRO65'),
('WINDSTAR'),
('CS1288AL'),
('AURABEATS66'),
('AIRPATROL'),
('RF117'),
('FTV 6550'),
('CS1588AL'),
('THUNDERBOX06'),
('REMOTEC1644'),
('RF230'),
('POWERDRIVE10'),
('THUNDERBOX08'),
('REMOTEC1844'),
('RF235'),
('LED5877'),
('POWERDRIVE12'),
('THUNDERBOX10'),
('REMOTEC2044'),
('LED5555'),
('VERSADRIVE10'),
('MEGA'),
('ES273'),
('FTV5550'),
('VERSADRIVE12'),
('WF GIGA'),
('ES271'),
('AMP6000BT'),
('VERSADRIVE15'),
('ES173'),
('LED5277'),
('AMP8000BT'),
('THUNDERBOX215'),
('MIRAGE'),
('ES171'),
('FTV5050'),
('AV3022BT'),
('DYNAMIX10'),
('WINDPRO'),
('KAPPA'),
('OT774'),
('LED4577'),
('DB50212BT'),
('AURABEATS208'),
('SIGMA'),
('OT664'),
('FTV4350'),
('DB50215BT'),
('AURABEATS210'),
('PHOENIX'),
('AMP50612BT'),
('AURABEATS212'),
('ICEPOWER'),
('LED4277'),
('AV8022BT'),
('AURABEATS244'),
('AIRBLAZE'),
('BL125'),
('LED4287'),
('AV5022BT'),
('PARTYBOX206'),
('AVEO'),
('BL153'),
('FTV4050'),
('PATYBOX1022'),
('ORION'),
('BL158'),
('PARTYBOX1044'),
('OMNI'),
('BL321'),
('LED3277'),
('UMAK1522BT'),
('PARTYBOX210'),
('ICEMASTER'),
('LED3287'),
('UMAK1518BT'),
('PARTYBOX214'),
('PERSONA55S'),
('FTV3250'),
('PARTYBOX212'),
('PERSONA65S'),
('ECOPOT'),
('SMARTKTV3262'),
('EQ207'),
('PARTYBOX215'),
('PERSONA30F'),
('DOUBLESTAR'),
('EQ257'),
('PARTYBOX808'),
('PERSONA50B'),
('EX/ESPRESSOPOT1.8L'),
('LED2459'),
('DELUXE625'),
('PERSONA60F'),
('AQUA'),
('LED2477'),
('SET50265BT'),
('ENERGYPOT'),
('LED2487'),
('HOMEPROSET06'),
('KTVPBOXM212'),
('ECOFANDF12'),
('HYDROPOT'),
('HOMEPROSET08'),
('KTVPBOXM210'),
('ECOFANDF16'),
('TURBOPOT180'),
('LED2259'),
('HOMEPROSET10'),
('KTVPBOXM625'),
('HOTSPRING'),
('LED2287'),
('HOMEPROSET12'),
('KTVPBOXM208'),
('ECOFANSF16'),
('ULTRAPOT 2.0L'),
('LED2277'),
('SET50280BT'),
('KTVPBOXK102'),
('SET502100BT'),
('KTVPBOXK82'),
('POTCOOKER'),
('LED2012'),
('SET502120BT'),
('KTVPBOXK122SD'),
('ST8582'),
('POTSTEAMER'),
('LED2059'),
('TPROSET15'),
('ST8584'),
('QUICKPOT'),
('LED2087'),
('SET502150BT (3 CRTN)'),
('AURABEATS204'),
('ST8585'),
('HOTPOT180'),
('LED2077'),
('AURABEATS306'),
('HOTPOT380'),
('DT7584'),
('MULTIPOT150'),
('LED1812'),
('TALLBOY'),
('VERSABEATS308'),
('SDT7586'),
('INSTAPOT200'),
('LED1877'),
('SONICPRO308'),
('MC350'),
('LED1887'),
('PREMIUMANT'),
('TURBOWASH80'),
('MC550'),
('SKYMAX ANT'),
('TURBOWASH95'),
('MASTERPOT180'),
('CRYSTAL'),
('PRO38K'),
('TURBOWASH105'),
('MCPRO48K'),
('TURBOWASH125'),
('ICECRYSTAL'),
('MCPRO58K'),
('ULTRAWASH80'),
('ICE SMASHER'),
('MCPRO68K'),
('ULTRAWASH95'),
('TURBOICECRUSHER'),
('MCPRO78K'),
('ULTRAWASH125'),
('MC10146'),
('TURBOWASH68'),
('PFI1324P'),
('MC10152');

-- sample customers
INSERT INTO customers (name,address,phone,email,birthday,age,gender,marital_status) VALUES
('Reynalyn Mendez','123 Main St','09615546342','reynalyn@example.com','1990-05-12',35,'Female','Single'),
('Juan Dela Cruz','456 Market Rd','09171234567','juan@example.com','1985-08-20',40,'Male','Married');

-- sample transactions using item JSON
INSERT INTO transactions (customer_id,date,invoice,answered_by,items) VALUES
(1,'2025-01-15','INV-1001','Staff A','[{"id":1,"name":"ARROW","qty":2},{"id":3,"name":"SM100","qty":1}]'),
(1,'2025-03-22','INV-1023','Staff B','[{"id":2,"name":"GRC2227","qty":1}]'),
(2,'2025-02-11','INV-1010','Staff A','[{"id":5,"name":"BLUETREKPA0899L","qty":1}]');
